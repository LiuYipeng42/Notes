

## 方法区的回收

​		方法区的垃圾收集主要回收两部分内容： **废弃的常量**和**不再使用的类型**。



方法区的回收需要同时满足下面三个条件：

- **该类所有的实例都已经被回收**，也就是 Java 堆中不存在该类及其任何派生子类的实例。
- 加载该类的**类加载器已经被回收**，这个条件除非是经过精心设计的可替换类加载器的场景，如 OSGi、 JSP 的重加载等，否则通常是很难达成的。
- **该类对应的 java.lang.Class 对象没有在任何地方被引用**，无法在任何地方通过反射访问该类的方法

**是否要对类型进行回收**，HotSpot 虚拟机提供了**-Xnoclassgc** 参数进行控制

